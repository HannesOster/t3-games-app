generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mongodb"
  url      = env("DATABASE_URL")
}

model Developer {
  id    String  @id @default(auto()) @map("_id") @db.ObjectId
  name  String  
  games Game[]
}

enum Genre {
    RPG
    Shooter
    Action
    Adventure
    Simulation
    Puzzle
}

model Game {
    id          String     @id @default(auto()) @map("_id") @db.ObjectId
    title       String
    genre       Genre
    platform    String
    releaseDate DateTime

    developerId String     @db.ObjectId
    developer   Developer  @relation(fields: [developerId], references: [id])

    price       Float
    multiplayer Boolean
    metascore   Int

    createdAt   DateTime   @default(now())
    updatedAt   DateTime   @updatedAt

    @@index([title])
}